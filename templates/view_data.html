<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
</head>

<body>
    <div class="background">

    <div class="container">
        <h1 class="mt-5">Progress Data</h1>
        <form action="{{ url_for('index') }}">
            <button type="submit"><i class="bx bxs-home"></i></button>
        </form>

        {% if data_available %}
        <!-- Display the table generated by pandas -->
        <div class="table-responsive">
            {{ data|safe }}
        </div>
        {% else %}
            <h2 class="error">No data have been saved. To view statistics, please attempt questions.</h2>
        {% endif %}
        <form action="{{ url_for('delete_data') }}" method="post">
            <button type="submit">Reset All User Data</button>
        </form>
        <!-- Upload Form -->
        <div class="button-container">
            <h2>Import CSV File</h2>
            <form action="{{ url_for('import_csv') }}" method="post" enctype="multipart/form-data">
                <input type="file" name="file" accept=".csv" required>
                <input type="submit" value="Upload CSV">
            </form>
        </div>

        <!-- Download Link -->
        <div class="button-container">
            <h2>Export CSV File</h2>
            <a href="{{ url_for('export_csv') }}" class="button">Download CSV</a>
        </div>
    </div>
    </div>
</body>

</html>