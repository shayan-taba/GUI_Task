<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" /> <!-- icons -->
</head>

<body>
    <div class="background">

        <div class="container">
            <div class="homeBox">
                <!-- Return back home button -->
                <form action="/">
                    <button type="submit">
                        <i style="color: white" class="bx bxs-home"></i>
                    </button>
                </form>
            </div>
            <h1 class="mt-5">Progress Data</h1>

            {% if data_available %}
            <!-- only shows if data is available, i.e., at least a question has been answered  -->
            <!-- Display the table generated by pandas -->
            <div class="table-responsive">
                {{ data|safe }}
            </div>
            {% else %} <!-- shows if data has just been reset or app first loaded after installation -->
            <h2 class="error">No data have been saved. To view statistics, please attempt questions.</h2>
            {% endif %}
            <form action="{{ url_for('delete_data') }}" method="post">
                <!-- deletes all user data, including the username and csv  -->
                <button type="submit">Reset All User Data</button>
            </form>
            <!-- upload box -->
            <div class="button-container">
                <h2>Import CSV File</h2>
                <form action="{{ url_for('import_csv') }}" method="post" enctype="multipart/form-data">
                    <input type="file" name="file" accept=".csv" required>
                    <input type="submit" value="Upload CSV">
                </form>
            </div>

            <!-- download link that exports the csv  -->
            <div class="button-container">
                <h2>Export CSV File</h2>
                <a href="{{ url_for('export_csv') }}" class="button">Download CSV</a>
            </div>
        </div>
    </div>
</body>

</html>